[{"pageNumber":1,"pageContent":"packetlife.net by Jeremy Stretch v2.0 IS-IS · P ART 1 Type Attributes Algorithm Metric Link-State Dijkstra Default (10) AD Standard Protocols Transport 115 ISO 10589 IP, CLNS Layer 2 Network Types DIS Elected Yes Broadcast Neighbor Discovery Yes Hello/Dead Timers 10/30 Adjacency Requirements · Interface MTUs must match · Areas must match (if level 1) · System IDs must be unique · Authentication must succeed show ip route show ip protocols show [clns|isis] neighbor show [clns|isis] interface show isis database · Levels must match Protocol Header IRPD 4 8 12 16 Type Length Value ... Packet Length Version/Protocol ID Extension ID Length R R R PDU Type Version Reserved Maximum Area Addresses NSAP Addressing Authentication Plaintext, MD5 Interdomain Part (IDP) Portion of the address used in routing between auto nomous systems; assigned by ISO Domain-Specific Part (DSP) Portion of the address relevant only within the loc al AS Authority and Format Identifier (AFI) Identifies the authority which dictates the format of the address Initial Domain Identifier (IDI) An organization belonging to the AFI High Order DSP (HODSP) The area within the AS System ID Unique router identifier; 48 bits for Cisco devices (often taken from a MAC address) NSAP Selector (SEL) Identifies a network layer service; always 0x00 in a NET address No Point-to-Point Yes 10/30 Troubleshooting show isis spf-log debug isis spf-events debug isis adjacencies-packets debug isis spf-statistics debug isis update-packets Routing Levels Level 0 Level 1 Level 2 Used to locate end systems Routing within an area Backbone between areas Level 3 Inter-AS routing Terminology Type-Length-Value (TLV) Variable-length modular datasets Link State PDU (LSP) Carry TLVs encompassing link state information DIS Election · Highest-priority interface elected · Highest system ID breaks SNPA tie · Default interface priority is 64 · Current DIS may be preempted · Highest SNPA (MAC/DLCI) breaks tie Sequence Number Packet (SNP) Used to request and advertise LSPs; can be complete (CSNP) or partial (PSNP) Hello Packet Establishes and maintains neighbor adjacencies Designated Intermediate System A pseudonode responsible for emulating point-to-point links across a multi-access segment AFI IDI 47 Area HODSP 0005.80ff.f800.0000 0001 System ID 0000.0c00.1234 SEL 00 Interdomain Part Domain-Specific Part Condensed NSAP Example"},{"pageNumber":2,"pageContent":"packetlife.net by Jeremy Stretch v2.0 IS-IS · P ART 2 TLV Types interface FastEthernet0/0 description Area 1 ip address 192.168.1.2 255.255.255.0 ip router isis isis circuit-type level-1 ! router isis net 49.0001.0000.0000.00a2.00 interface FastEthernet0/0 description Area 2 ip address 192.168.2.1 255.255.255.0 ip router isis isis circuit-type level-1 ! interface Serial1/0 no ip address encapsulation frame-relay ! interface Serial1/0.1 point-to-point description To Area 1 ip address 10.0.0.2 255.255.255.252 ip router isis isis circuit-type level-2-only ! MD5 authentication (keychain not shown) isis authentication mode md5 isis authentication key-chain <keychain> frame-relay interface-dlci 101 ! interface Serial1/0.2 point-to-point description To Area 3 ip address 10.0.0.9 255.255.255.252 ip router isis isis circuit-type level-2-only frame-relay interface-dlci 103 ! router isis net 49.0002.0000.0000.00b1.00 interface FastEthernet0/0 description Area 1 ip address 192.168.1.1 255.255.255.0 ip router isis isis circuit-type level-1 ! interface Serial1/0 no ip address encapsulation frame-relay ! interface Serial1/0.1 point-to-point description To Area 2 ip address 10.0.0.1 255.255.255.252 ip router isis isis circuit-type level-2-only ! MD5 authentication (keychain not shown) isis authentication mode md5 isis authentication key-chain <keychain> frame-relay interface-dlci 101 ! interface Serial1/0.2 point-to-point description To Area 3 ip address 10.0.0.5 255.255.255.252 ip router isis isis circuit-type level-2-only frame-relay interface-dlci 102 ! router isis net 49.0001.0000.0000.00a1.00 Router A2 Router B1 Router A1 1 0 . 0 . 0 . 0 / 3 0 1 0 . 0 . 0 . 4 / 3 0 10.0.0.8/30 Area 1 192.168.1.0/24 Area 2 192.168.2.0/24 Area 3 192.168.3.0/24 B2 B3 C2 C3 A2 A3 1 Area Addresses Name 2 IS Neighbors 3 ES Neighbors Hello, LSP Use LSP L1 LSP 5 Prefix Neighbors L2 LSP 128 IP Internal Reach. 129 Protocols Supported 131 IDRPI LSP Hello, LSP SNP, L2 LSP 132 IP Interface Address Hello, LSP 6 IS Neighbors 8 Padding 9 LSP Entries Hello, L2 LSP Hello SNP 10 Authentication All Name Use Name Use Configuration Example interface FastEthernet0/0 description Area 2 ip address 192.168.2.2 255.255.255.0 ip router isis isis circuit-type level-1 ! router isis net 49.0002.0000.0000.00b2.00 Router B2 A1 B1 C1"}]
