[{"pageNumber":1,"pageContent":"packetlife.net by Jeremy Stretch v1.0 + + + × VOIP B ASICS Access Switch Port Configuration interface FastEthernet0/1 ! Configure data and voice access VLANs switchport access vlan <VLAN> switchport voice vlan <VLAN> ! Trust ingress QoS markings mls qos trust cos ! Optionally pre-allocate power for the port power inline static [max <wattage> ] Pulse Code Modulation (PCM) Sampling 8000 discrete signal measurements are taken at equal int ervals every second Quantization The level of each sample is rounded to the nearest expr essible value Encoding Digital values are encoded as binary numbers for encapsul ation Compression (Optional) The digital signal is compressed in real time to consume l ess bandwidth IEEE 802.3af Classes 0 15.4 W 1 4 W 2 7 W 4 Reserved Power Over Ethernet (PoE) Cisco Inline Power (ILP) Pre-standard; employs a 340 kHz tone to detect devices; power needs communicated via CDP IEEE 802.3af Detects power requirements of PoE device by the line resistance present Voice Codecs G.711 PCM 4.1 64 kbps MOS Bandwidth Complexity Free Low Yes iLBC 4.1 15.2 kbps High Yes G.729 CS-ACELP 3.92 8 kbps High No G.726 ADPCM 3.85 32 kbps Medium Yes G.729a CS-ACELP 3.7 8 kbps Medium No G.728 LD-CELP 3.61 16 kbps High No Signaling Protocols ITU-T H.323 Originally designed for multimedia transmission over IS DN; mature and widely supported; peer-to-peer call control Session Initiation Protocol (SIP) Text-based, similar in nature to HTTP; defined in RFC 3261; peer- to-peer call control Media Gateway Control Protocol (MGCP) Employs centralized call control; defined in RFC 3661 Skinny Client Control Protocol (SCCP) Cisco-proprietary; limited support on gateways; central ized control IP Phone Boot Process 1. Power Over Ethernet (Optional) Power is supplied via IEEE 802.3af/at or Cisco ILP 2. VLANs Learned via CDP or LLDP Voice and data VLANs communicated via CDP/LLDP 3. IP Assignment via DHCP The phone sends a DHCP request in the voice VLAN; the response includes an IP and DHCP option 150 4. Configuration Retrieved via TFTP The phone retrieves its configuration from one of the TFTP servers specified in the DHCP option 5. Registration The phone registers with the call server(s) specified in its configuration Calculating Required Bandwidth TFTP Server Call Server 1 2 3 4 5 Codec Payload (Bitrate × Sample Size) 64 Kbps × 20 msec G.711/Ethernet Example L2 Overhead Ethernet (18) + 802.1Q (4) 160 B 22 B L4 Overhead UDP (8) + RTP (12) 20 B L3 Overhead IP (20) 20 B Packets per Second 1000 msec / 20 msec 50 pps 3 15.4 W IEEE 802.3at Uses LLDP to negotiate delivery of up to 25 watts in .10 W intervals 14 12 10 8 6 4 2 0 9.1 12.3 13.6 13.5 12.4 9.2 6.0 2.8 0.9 1.0 2.7 5.9 Sampling 14 12 10 8 6 4 2 0 Quantization 14 12 10 8 6 4 2 0 Encoding Total Bandwidth 88.8 Kbps G.722 SB-ADPCM 4.13 48-64 kbps Medium Yes"}]
